<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.134.0">
    <meta name="description" content="">
<meta name="author" content="21133048@student.hcmute.edu.vn">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Add Response Cards :: AMAZON LEX WORKSHOP</title>

    
    <link href="/css/nucleus.css?1726993342" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1726993342" rel="stylesheet">
    <link href="/css/hybrid.css?1726993342" rel="stylesheet">
    <link href="/css/featherlight.min.css?1726993342" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1726993342" rel="stylesheet">
    <link href="/css/auto-complete.css?1726993342" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1726993342" rel="stylesheet">
    <link href="/css/theme.css?1726993342" rel="stylesheet">
    <link href="/css/hugo-theme.css?1726993342" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1726993342" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1726993342"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/5-add-response-cards/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/">

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg>

</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1726993342"></script>
<script type="text/javascript" src="/js/auto-complete.js?1726993342"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/Khoadora.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1726993342"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-introduce/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/">
           <b> 1. </b> Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-build-a-chatbot/" title="Build a ChatBot to order Fried Chicken" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/">
           <b> 2. </b> Build a ChatBot to order Fried Chicken
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.1-create-bot-and-configure/" title="Create bot and Configure" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.1-create-bot-and-configure/">
           <b> 2.1 </b> Create bot and Configure
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/" title="Create Intent and Slot types" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/">
           <b> 2.2 </b> Create Intent and Slot types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.1.-create-intent-greeting/" title="Create intent Greeting" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.1.-create-intent-greeting/">
           <b> 2.2.1 </b> Create intent Greeting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.2.-create-intent-friedchickenorder-and-slot-type-friedchickensize/" title="Create intent FriedChickenOrder and Slot types FriedChickenSize" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.2.-create-intent-friedchickenorder-and-slot-type-friedchickensize/">
           <b> 2.2.2 </b> Create intent FriedChickenOrder and Slot types FriedChickenSize
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.3.-create-intent-kfc_branch-and-slot-types-kfc_types/" title="Create intent KFC_branch and Slot types KFC_types" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.3.-create-intent-kfc_branch-and-slot-types-kfc_types/">
           <b> 2.2.3 </b> Create intent KFC_branch and Slot types KFC_types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.4.-create-intent-jollipee_branch-and-slot-types-jollipee_types/" title="Create intent Jollipee_branch and Slot types Jollipee_types" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.4.-create-intent-jollipee_branch-and-slot-types-jollipee_types/">
           <b> 2.2.4 </b> Create intent Jollipee_branch and Slot types Jollipee_types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.5.-create-intent-texas_branch-and-slot-types-texas_types/" title="Create intent Texas_branch and Slot types Texas_types" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.5.-create-intent-texas_branch-and-slot-types-texas_types/">
           <b> 2.2.5 </b> Create intent Texas_branch and Slot types Texas_types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.6.-create-intent-sideorder-and-slot-types-side_types/" title="Create intent SideOrder and Slot types Side_types" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.6.-create-intent-sideorder-and-slot-types-side_types/">
           <b> 2.2.6 </b> Create intent SideOrder and Slot types Side_types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.7.-create-intent-drinkorder-and-slot-types-drink_types/" title="Create intent DrinkOrder and Slot types Drink_types" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.7.-create-intent-drinkorder-and-slot-types-drink_types/">
           <b> 2.2.7 </b> Create intent DrinkOrder and Slot types Drink_types
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.8.-configure-intent-fallbackintent/" title="Configure intent FallbackIntent" class="dd-item 
        
        
        
        ">
      <a href="/2-build-a-chatbot/2.2-create-intent-and-slot-types/2.2.8.-configure-intent-fallbackintent/">
           <b> 2.2.8 </b> Configure intent FallbackIntent
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-validate-slot-data-with-lambda/" title="Validate Slot data with Lambda" class="dd-item 
        
        
        
        ">
      <a href="/3-validate-slot-data-with-lambda/">
           <b> 3. </b> Validate Slot data with Lambda
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-validate-slot-data-with-lambda/3.1-rebuilding-a-simpler-chatbot/" title="Rebuilding a simpler chatbot" class="dd-item 
        
        
        
        ">
      <a href="/3-validate-slot-data-with-lambda/3.1-rebuilding-a-simpler-chatbot/">
           <b> 3.1. </b> Rebuilding a simpler chatbot
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-validate-slot-data-with-lambda/3.2-use-a-lambda-functions-for-chatbot/" title="Use a Lambda functions for chatbot" class="dd-item 
        
        
        
        ">
      <a href="/3-validate-slot-data-with-lambda/3.2-use-a-lambda-functions-for-chatbot/">
           <b> 3.2. </b> Use a Lambda functions for chatbot
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-integrate-chatbot-into-a-web-page/" title="Integrate ChatBot into a Web Page" class="dd-item 
        
        
        
        ">
      <a href="/4-integrate-chatbot-into-a-web-page/">
           <b> 4.</b> Integrate ChatBot into a Web Page
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-add-response-cards/" title="Add Response Cards" class="dd-item 
        
        active
        
        ">
      <a href="/5-add-response-cards/">
           <b> 5. </b> Add Response Cards
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6-slack-integration/" title="Slack Integration" class="dd-item 
        
        
        
        ">
      <a href="/6-slack-integration/">
           <b> 6. </b> Slack Integration
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7-clear-up/" title="Clear up" class="dd-item 
        
        
        
        ">
      <a href="/7-clear-up/">
           <b> 7. </b> Clear up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://aws.amazon.com/blogs"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://Khoadora.github.io/5-add-response-cards/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://Khoadora.github.io/vi/5-add-response-cards/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>21-09-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/ph%C6%B0%C6%A1ng-khoa-nguy%E1%BB%85n-4377472a4/"  style="color:orange">Nguyễn Phương Khoa - 21133048  </a> <br>
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Amazon Lex Workshops</a> > Add Response Cards
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#task-1-configure-response-cards-into-chatbot">Task 1: Configure Response Cards into chatbot</a></li>
        <li><a href="#task-2-code-lambda-handler-for-response-card">Task 2: Code Lambda handler for response card</a></li>
        <li><a href="#task-3-configure-lambda-response-card-integration">Task 3: Configure Lambda Response Card Integration.</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Add Response Cards
            </h1>
          

        



	<ul>
<li>Here we will add Response Cards into FriedChickenFriend_Simple chatbot.</li>
<li>I put the code Lambda handler for response card of at the bottom of the page, you can scroll down to the bottom to see it or follow the link for reference: <a href="https://github.com/Khoadora/Code_Amazon_Lex_workshop">Code Lambda for response card</a></li>
</ul>
<p><strong>Content</strong>:</p>
<ul>
<li>Configure Response Cards into chatbot.</li>
<li>Code Lambda handler for response card.</li>
<li>Configure Lambda Response Card Integration.</li>
</ul>
<h3 id="task-1-configure-response-cards-into-chatbot">Task 1: Configure Response Cards into chatbot</h3>
<h4 id="step-1-add-resonse-card-for-friedchickensizes-slot">Step 1: Add resonse card for FriedChickenSizes slot</h4>
<ul>
<li>Go to <a href="https://us-east-1.console.aws.amazon.com/lexv2/home?region=us-east-1#bots">Amazon lex console</a></li>
<li>Select bot <strong>FriedChickenFriend_Simple</strong>
<img alt="conf" src="/image/5/1.jpg"></li>
<li>Go to <strong>intents</strong>, select the <strong>OrderFriedChicken</strong> intent.
<img alt="conf" src="/image/5/2.jpg"></li>
<li>Scroll down to <strong>Slots</strong>, select slot <strong>FriedChickenSizes</strong>, click <strong>Advanced options</strong>.
<img alt="conf" src="/image/5/3.jpg"></li>
<li>Scroll down to <strong>Slot prompts</strong>, select <strong>More prompt options</strong>.
<img alt="conf" src="/image/5/4.jpg"></li>
<li>Scroll down to <strong>Slot prompts</strong>, select <strong>Add</strong> - <strong>Add card group</strong>.
<img alt="conf" src="/image/5/5.jpg"></li>
<li>In the <strong>Card group</strong>, enter <strong>Title</strong> as <strong>FriedChickenFriend_Simple</strong>.</li>
<li>In the <strong>Subtitle</strong>, enter <strong>What size fried chicken would you like?</strong>.</li>
<li>At Buttons, add 4 sizes: small, medium, large, family size.</li>
<li>Enter <strong>Update prompts</strong>.
<img alt="conf" src="/image/5/6.jpg"></li>
<li>Enter <strong>Update slot</strong>.
<img alt="conf" src="/image/5/7.jpg"></li>
<li>Once done, enter <strong>Build</strong> and <strong>Test</strong>. We will have the result as shown below.
<img alt="conf" src="/image/5/8.jpg"></li>
</ul>
<h4 id="step-2-add-resonse-card-for-friedchicken_branch-slot">Step 2: Add resonse card for FriedChicken_branch slot</h4>
<ul>
<li>Scroll down to <strong>Slots</strong>, select slot <strong>FriedChicken_branch</strong>, click <strong>Advanced options</strong>.
<img alt="conf" src="/image/5/9.jpg"></li>
<li>Scroll down to <strong>Slot prompts</strong>, select <strong>More prompt options</strong>.</li>
<li>Scroll down to <strong>Slot prompts</strong>, select <strong>Add</strong> - <strong>Add card group</strong>.
<img alt="conf" src="/image/5/10.jpg"></li>
<li>In the <strong>Card group</strong>, enter <strong>Title</strong> as <strong>FriedChickenFriend_Simple</strong>.</li>
<li>In the <strong>Subtitle</strong>, enter <strong>Where would you like to order your ried chicken from ?</strong>.</li>
<li>At Buttons, add 3 branch: kfc, jollipee and texas.</li>
<li>Enter <strong>Update prompts</strong>.
<img alt="conf" src="/image/5/11.jpg"></li>
<li>Enter <strong>Update slot</strong>.
<img alt="conf" src="/image/5/12.jpg"></li>
<li>Once done, enter <strong>Build</strong> and <strong>Test</strong>. We will have the result as shown below.
<img alt="conf" src="/image/5/13.jpg"></li>
</ul>
<h4 id="step-3-add-resonse-card-for-friedchicken_types-slot">Step 3: Add resonse card for FriedChicken_Types slot</h4>
<ul>
<li>Scroll down to <strong>Slots</strong>, select slot <strong>FriedChicken_Types</strong>, click <strong>Advanced options</strong>.
<img alt="conf" src="/image/5/14.jpg"></li>
<li>Scroll down to <strong>Slot prompts</strong>, select <strong>More prompt options</strong>.</li>
<li>Scroll down to <strong>Slot prompts</strong>, select <strong>Add</strong> - <strong>Add card group</strong>.
<img alt="conf" src="/image/5/15.jpg"></li>
<li>In the <strong>Card group</strong>, enter <strong>Title</strong> as <strong>FriedChickenFriend_Types</strong>.</li>
<li>In the <strong>Subtitle</strong>, enter <strong>Where would you like to order your ried chicken from ?</strong>.</li>
<li>At Buttons, add 5 type: Original Recipe, Extra Crispy, Hot &amp; Spicy, Jollibee Fried Chicken, Classic, Spicy.

<div class="notices note" ><p>5 buttons is maximum.</p>
</div>
</li>
<li>Enter <strong>Update prompts</strong>.
<img alt="conf" src="/image/5/16.jpg"></li>
<li>Enter <strong>Update slot</strong>.
<img alt="conf" src="/image/5/17.jpg"></li>
<li>Once done, enter <strong>Build</strong> and <strong>Test</strong>. We will have the result as shown below.
<img alt="conf" src="/image/5/18.jpg">
<img alt="conf" src="/image/5/19.jpg"></li>
<li>You can go back to the web page to see, Response card is also added to the chatbot in the web.
<img alt="conf" src="/image/5/20.jpg"></li>
</ul>
<h3 id="task-2-code-lambda-handler-for-response-card">Task 2: Code Lambda handler for response card</h3>
<ul>
<li>In the Lambda handle for response card code section, I only changed the lambda_handler function in the code in part 3.2, the remaining functions do not have any changes.</li>
<li>The changes are as follows:</li>
</ul>
<ol>
<li>Extracting Information from Event and  validating the Order:</li>
</ol>
<ul>
<li>The bot&rsquo;s name, slots, and intent name are extracted from the event object.</li>
<li>The <code>validate_order</code> function is called to validate the user&rsquo;s input (contained in <code>slots</code>).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lambda_handler</span>(event, context):
</span></span><span style="display:flex;"><span>    print(event)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    bot <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;bot&#39;</span>][<span style="color:#e6db74">&#39;name&#39;</span>]
</span></span><span style="display:flex;"><span>    slots <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;sessionState&#39;</span>][<span style="color:#e6db74">&#39;intent&#39;</span>][<span style="color:#e6db74">&#39;slots&#39;</span>]
</span></span><span style="display:flex;"><span>    intent <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;sessionState&#39;</span>][<span style="color:#e6db74">&#39;intent&#39;</span>][<span style="color:#e6db74">&#39;name&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    order_validation_result <span style="color:#f92672">=</span> validate_order(slots)
</span></span><span style="display:flex;"><span>    print(order_validation_result)
</span></span></code></pre></div><ol start="2">
<li>Handling Dialog Code Hook and handle Validation Errors</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event[<span style="color:#e6db74">&#39;invocationSource&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;DialogCodeHook&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> order_validation_result[<span style="color:#e6db74">&#39;isValid&#39;</span>]:
</span></span></code></pre></div><ol start="3">
<li>Prepare Response Message</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event[<span style="color:#e6db74">&#39;invocationSource&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;DialogCodeHook&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> order_validation_result[<span style="color:#e6db74">&#39;isValid&#39;</span>]:
</span></span><span style="display:flex;"><span>            response_message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;FriedChickenFriend&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;message&#39;</span> <span style="color:#f92672">in</span> order_validation_result:
</span></span><span style="display:flex;"><span>                response_message <span style="color:#f92672">=</span> order_validation_result[<span style="color:#e6db74">&#39;message&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>            response_card_buttons <span style="color:#f92672">=</span> []
</span></span></code></pre></div><ol start="4">
<li>
<p>Setup Response Card</p>
<p>4.1 Create title and button for branch</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>            kfc_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a Fried Chicken type&#39;</span>
</span></span><span style="display:flex;"><span>            kfc_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Original&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;original&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Extra Crispy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;extra crispy&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Hot &amp; Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;hot &amp; spicy&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            jollipee_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a Jollipee type&#39;</span>
</span></span><span style="display:flex;"><span>            jollipee_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Classic&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;classic&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;spicy&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Sweet Chili&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;sweet chili&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            texas_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a Texas type&#39;</span>
</span></span><span style="display:flex;"><span>            texas_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Smoky BBQ&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;smoky bbq&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Cajun Spice&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;cajun spice&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Honey Butter&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;honey butter&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span></code></pre></div><p>4.2 Handles the case when the &ldquo;FriedChickenSizes&rdquo; slot is invalid</p>
<ul>
<li>A subtitle prompting the user to select a fried chicken size.</li>
<li>Buttons for different sizes (Small, Medium, Large, Family Size) that the user can choose from to correct their input.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FriedChickenSizes&#34;</span>:
</span></span><span style="display:flex;"><span>                response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Please select a Fried Chicken size&#34;</span>
</span></span><span style="display:flex;"><span>                response_card_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Small&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;small&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Medium&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;medium&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Large&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;large&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Family Size&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;family size&#34;</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                ]
</span></span></code></pre></div><p>4.3 Handles the situation when the &ldquo;FriedChicken_branch&rdquo; slot is invalid</p>
<ul>
<li>A subtitle instructing the user to select a fried chicken franchise.</li>
<li>Buttons for three franchises: KFC, Jollipee, and Texas. Each button has a label and a value that will be sent back when the user makes a selection.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FriedChicken_branch&#34;</span>:
</span></span><span style="display:flex;"><span>                response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Please select a Fried Chicken franchise&#34;</span>
</span></span><span style="display:flex;"><span>                response_card_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;KFC&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;kfc&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Jollipee&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;jollipee&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Texas&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;texas&#34;</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FriedChicken_Types&#34;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidFranchise&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;kfc&#34;</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> kfc_sub_title
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> kfc_buttons
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> order_validation_result[<span style="color:#e6db74">&#39;invalidFranchise&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;jollipee&#34;</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> jollipee_sub_title
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> jollipee_buttons 
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> order_validation_result[<span style="color:#e6db74">&#39;invalidFranchise&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;texas&#34;</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> texas_sub_title
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> texas_buttons
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a fried chicken type&#39;</span>
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Original&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;original&#34;</span>
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Extra Crispy&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;extra crispy&#34;</span>
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Hot &amp; Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;hot &amp; spicy&#34;</span>
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                        ,
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Classic&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;classic&#34;</span>
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;spicy&#34;</span>
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    ]
</span></span></code></pre></div><ol start="5">
<li>Create Response</li>
</ol>
<ul>
<li>Constructs a response that prompts the user to provide the correct slot value, displaying an image response card with buttons to select options based on the invalid slot.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;sessionState&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;dialogAction&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;slotToElicit&#34;</span>: order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>],
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;ElicitSlot&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;intent&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;name&#34;</span>: intent,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;slots&#34;</span>: slots,
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;messages&#34;</span>: [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;contentType&#34;</span>: <span style="color:#e6db74">&#34;ImageResponseCard&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;content&#34;</span>: response_message,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;imageResponseCard&#34;</span>: {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;FriedChickenFriend&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;subtitle&#34;</span>: response_card_sub_title,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;buttons&#34;</span>: response_card_buttons
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><ol start="6">
<li>Delegate to Lex</li>
</ol>
<ul>
<li>If the order is valid, this block creates a response to delegate the processing back to Lex to continue handling the conversation.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;sessionState&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;dialogAction&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;Delegate&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;intent&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;name&#39;</span>: intent,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;slots&#39;</span>: slots
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span></code></pre></div><ol start="7">
<li>Create Fulfillment Response</li>
</ol>
<ul>
<li>Constructs a response to indicate that the order has been successfully placed and closes the dialog with Lex. The message &ldquo;I&rsquo;ve placed your order.&rdquo; is sent to the user.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event[<span style="color:#e6db74">&#39;invocationSource&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;FulfillmentCodeHook&#39;</span>:
</span></span><span style="display:flex;"><span>        response <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;sessionState&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;dialogAction&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;Close&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;intent&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;name&#34;</span>: intent,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;slots&#34;</span>: slots,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;state&#34;</span>: <span style="color:#e6db74">&#34;Fulfilled&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;messages&#34;</span>: [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;contentType&#34;</span>: <span style="color:#e6db74">&#34;PlainText&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;I&#39;ve placed your order.&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    print(response)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> response
</span></span></code></pre></div><h3 id="task-3-configure-lambda-response-card-integration">Task 3: Configure Lambda Response Card Integration.</h3>
<ul>
<li>Copy the code and put it into lambda function, enter <strong>Deploy</strong>.
<img alt="conf" src="/image/5/30.jpg"></li>
<li>Go to <strong>Intent: OrderFriedChicken</strong>, enter <strong>Build</strong> and <strong>Test</strong>.
<img alt="conf" src="/image/5/31.jpg">

<div class="notices note" ><p>You can see when I chose the wrong type of Jollipee, the chatbot asked me to choose again, that is the application of Response Card in Lambda function.</p>
</div>

<img alt="conf" src="/image/5/32.jpg">
<img alt="conf" src="/image/5/33.jpg"></li>
</ul>
<h4 id="complete-lambda-handler-for-response-card-code">Complete Lambda handler for response card code:</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>friedChickenSizes <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;small&#39;</span>, <span style="color:#e6db74">&#39;medium&#39;</span>, <span style="color:#e6db74">&#39;large&#39;</span>, <span style="color:#e6db74">&#39;family size&#39;</span>]
</span></span><span style="display:flex;"><span>friedChicken_branch <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;kfc&#39;</span>, <span style="color:#e6db74">&#39;jollipee&#39;</span>, <span style="color:#e6db74">&#39;texas&#39;</span>]
</span></span><span style="display:flex;"><span>kfc_types <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;original&#39;</span>, <span style="color:#e6db74">&#39;extra crispy&#39;</span>, <span style="color:#e6db74">&#39;hot &amp; spicy&#39;</span>]
</span></span><span style="display:flex;"><span>jollipee_types <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;classic&#39;</span>, <span style="color:#e6db74">&#39;spicy&#39;</span>, <span style="color:#e6db74">&#39;sweet chili&#39;</span>]
</span></span><span style="display:flex;"><span>texas_types <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;smoky bbq&#39;</span>, <span style="color:#e6db74">&#39;cajun spice&#39;</span>, <span style="color:#e6db74">&#39;honey butter&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">validate_order</span>(slots):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Validate FriedChickenSizes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> slots[<span style="color:#e6db74">&#39;FriedChickenSizes&#39;</span>]:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;Validating FriedChickenSizes Slot&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChickenSizes&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChickenSizes&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> friedChickenSizes:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;Invalid FriedChickenSizes&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChickenSizes&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">&#39;Please select a </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> fried chicken size.&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">.</span>join(friedChickenSizes))
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Validate FriedChicken_branch</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> slots[<span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>]:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;Validating FriedChicken_branch Slot&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> friedChicken_branch:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;Invalid FriedChickenSizes&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">&#39;Please select from </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> fried chicken branch.&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">.</span>join(friedChicken_branch))
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Validate FriedChicken_Types</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> slots[<span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>]:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;Validating FriedChicken_Types Slot&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#39;invalidFranchise&#39;</span>: <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Validate FriedChicken_Types for FriedChicken_branch</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;kfc&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> kfc_types:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#39;Invalid FriedChicken_Types for KFC&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;invalidFranchise&#39;</span>: <span style="color:#e6db74">&#39;kfc&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">&#39;Please select a KFC type of </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">.&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">.</span>join(kfc_types))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;jollipee&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> jollipee_types:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#39;Invalid FriedChicken_Types for Jollipee&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;invalidFranchise&#39;</span>: <span style="color:#e6db74">&#39;jollipee&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">&#39;Please select a Jollipee type of </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">.&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">.</span>join(jollipee_types))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_branch&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;texas&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> slots[<span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>][<span style="color:#e6db74">&#39;value&#39;</span>][<span style="color:#e6db74">&#39;originalValue&#39;</span>]<span style="color:#f92672">.</span>lower() <span style="color:#f92672">not</span> <span style="color:#f92672">in</span> texas_types:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#39;Invalid FriedChicken_Types for Texas&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">False</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;invalidSlot&#39;</span>: <span style="color:#e6db74">&#39;FriedChicken_Types&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;invalidFranchise&#39;</span>: <span style="color:#e6db74">&#39;texas&#39;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;message&#39;</span>: <span style="color:#e6db74">&#39;Please select a Texas type of </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">.&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#34;, &#34;</span><span style="color:#f92672">.</span>join(texas_types))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Valid Order</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> {<span style="color:#e6db74">&#39;isValid&#39;</span>: <span style="color:#66d9ef">True</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lambda_handler</span>(event, context):
</span></span><span style="display:flex;"><span>    print(event)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    bot <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;bot&#39;</span>][<span style="color:#e6db74">&#39;name&#39;</span>]
</span></span><span style="display:flex;"><span>    slots <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;sessionState&#39;</span>][<span style="color:#e6db74">&#39;intent&#39;</span>][<span style="color:#e6db74">&#39;slots&#39;</span>]
</span></span><span style="display:flex;"><span>    intent <span style="color:#f92672">=</span> event[<span style="color:#e6db74">&#39;sessionState&#39;</span>][<span style="color:#e6db74">&#39;intent&#39;</span>][<span style="color:#e6db74">&#39;name&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    order_validation_result <span style="color:#f92672">=</span> validate_order(slots)
</span></span><span style="display:flex;"><span>    print(order_validation_result)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event[<span style="color:#e6db74">&#39;invocationSource&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;DialogCodeHook&#39;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> order_validation_result[<span style="color:#e6db74">&#39;isValid&#39;</span>]:
</span></span><span style="display:flex;"><span>            response_message <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;FriedChickenFriend&#39;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;message&#39;</span> <span style="color:#f92672">in</span> order_validation_result:
</span></span><span style="display:flex;"><span>                response_message <span style="color:#f92672">=</span> order_validation_result[<span style="color:#e6db74">&#39;message&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>            response_card_buttons <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            kfc_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a Fried Chicken type&#39;</span>
</span></span><span style="display:flex;"><span>            kfc_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Original&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;original&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Extra Crispy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;extra crispy&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Hot &amp; Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;hot &amp; spicy&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            jollipee_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a Jollipee type&#39;</span>
</span></span><span style="display:flex;"><span>            jollipee_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Classic&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;classic&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;spicy&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Sweet Chili&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;sweet chili&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            texas_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a Texas type&#39;</span>
</span></span><span style="display:flex;"><span>            texas_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Smoky BBQ&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;smoky bbq&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Cajun Spice&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;cajun spice&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Honey Butter&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;honey butter&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FriedChickenSizes&#34;</span>:
</span></span><span style="display:flex;"><span>                response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Please select a Fried Chicken size&#34;</span>
</span></span><span style="display:flex;"><span>                response_card_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Small&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;small&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Medium&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;medium&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Large&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;large&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Family Size&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;family size&#34;</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FriedChicken_branch&#34;</span>:
</span></span><span style="display:flex;"><span>                response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Please select a Fried Chicken franchise&#34;</span>
</span></span><span style="display:flex;"><span>                response_card_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;KFC&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;kfc&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Jollipee&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;jollipee&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Texas&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;texas&#34;</span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;FriedChicken_Types&#34;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> order_validation_result[<span style="color:#e6db74">&#39;invalidFranchise&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;kfc&#34;</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> kfc_sub_title
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> kfc_buttons
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> order_validation_result[<span style="color:#e6db74">&#39;invalidFranchise&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;jollipee&#34;</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> jollipee_sub_title
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> jollipee_buttons 
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> order_validation_result[<span style="color:#e6db74">&#39;invalidFranchise&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;texas&#34;</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> texas_sub_title
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> texas_buttons
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                    response_card_sub_title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Please select a fried chicken type&#39;</span>
</span></span><span style="display:flex;"><span>                    response_card_buttons <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Original&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;original&#34;</span>
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Extra Crispy&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;extra crispy&#34;</span>
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Hot &amp; Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;hot &amp; spicy&#34;</span>
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                        ,
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Classic&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;classic&#34;</span>
</span></span><span style="display:flex;"><span>                        },
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;Spicy&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;value&#34;</span>: <span style="color:#e6db74">&#34;spicy&#34;</span>
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;sessionState&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;dialogAction&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;slotToElicit&#34;</span>: order_validation_result[<span style="color:#e6db74">&#39;invalidSlot&#39;</span>],
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;ElicitSlot&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;intent&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;name&#34;</span>: intent,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;slots&#34;</span>: slots,
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;messages&#34;</span>: [
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;contentType&#34;</span>: <span style="color:#e6db74">&#34;ImageResponseCard&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;content&#34;</span>: response_message,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;imageResponseCard&#34;</span>: {
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;FriedChickenFriend&#34;</span>,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;subtitle&#34;</span>: response_card_sub_title,
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;buttons&#34;</span>: response_card_buttons
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                ]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            response <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;sessionState&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;dialogAction&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;Delegate&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;intent&#34;</span>: {
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;name&#39;</span>: intent,
</span></span><span style="display:flex;"><span>                        <span style="color:#e6db74">&#39;slots&#39;</span>: slots
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> event[<span style="color:#e6db74">&#39;invocationSource&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;FulfillmentCodeHook&#39;</span>:
</span></span><span style="display:flex;"><span>        response <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;sessionState&#34;</span>: {
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;dialogAction&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;Close&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;intent&#34;</span>: {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;name&#34;</span>: intent,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;slots&#34;</span>: slots,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;state&#34;</span>: <span style="color:#e6db74">&#34;Fulfilled&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#e6db74">&#34;messages&#34;</span>: [
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;contentType&#34;</span>: <span style="color:#e6db74">&#34;PlainText&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;I&#39;ve placed your order.&#34;</span>
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    print(response)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> response
</span></span></code></pre></div>




<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/4-integrate-chatbot-into-a-web-page/" title="Integrate ChatBot into a Web Page"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/6-slack-integration/" title="Slack Integration" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1726993342"></script>
    <script src="/js/perfect-scrollbar.min.js?1726993342"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1726993342"></script>
    <script src="/js/jquery.sticky.js?1726993342"></script>
    <script src="/js/featherlight.min.js?1726993342"></script>
    <script src="/js/highlight.pack.js?1726993342"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1726993342"></script>
    <script src="/js/learn.js?1726993342"></script>
    <script src="/js/hugo-learn.js?1726993342"></script>

    <link href="/mermaid/mermaid.css?1726993342" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1726993342"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
